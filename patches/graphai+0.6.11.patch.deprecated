diff --git a/node_modules/graphai/lib/node.js b/node_modules/graphai/lib/node.js
index eebb88b..0340448 100644
--- a/node_modules/graphai/lib/node.js
+++ b/node_modules/graphai/lib/node.js
@@ -220,6 +220,7 @@ class ComputedNode extends Node {
         }
         const previousResults = this.graph.resultsOf(this.inputs, this.anyInput);
         const agentId = this.agentId ? this.graph.resultOf((0, utils_2.parseNodeName)(this.agentId)) : this.agentId;
+        if (typeof agentId === 'function') this.agentFunction = agentId;
         const transactionId = Date.now();
         this.prepareExecute(transactionId, Object.values(previousResults));
         if (this.timeout && this.timeout > 0) {
